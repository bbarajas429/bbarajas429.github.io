[
  {
    "objectID": "Blog.html",
    "href": "Blog.html",
    "title": "Blog Posts",
    "section": "",
    "text": "Creating an infographic using Oregon spotted frog capture data\n\n\n\n\n\n\n\nMEDS\n\n\nR\n\n\nVisualization\n\n\n\n\nCreating custom data visualizations in R using mark-recapture data from USGS\n\n\n\n\n\n\nMar 12, 2024\n\n\nBriana Barajas\n\n\n\n\n\n\n  \n\n\n\n\nNDVI Assessment Around Santa Clara River\n\n\n\n\n\n\n\nMEDS\n\n\nR\n\n\nRemote sensing\n\n\n\n\nCalculating NDVI using Landsat remote sensing data around the Santa Clara River area\n\n\n\n\n\n\nDec 15, 2023\n\n\nBriana Barajas\n\n\n\n\n\n\n  \n\n\n\n\nAir Quality Assesment of California Thomas Fire\n\n\n\n\n\n\n\nPython\n\n\nMEDS\n\n\nRemote sensing\n\n\n\n\nAn analysis of the Thomas Fire, including a raster image of the fire‚Äôs perimeter and plots depicting the air quality (AQI) in affected counties.\n\n\n\n\n\n\nDec 13, 2023\n\n\nBriana Barajas\n\n\n\n\n\n\n  \n\n\n\n\nDrought Tolerance in Tropical Tree Species\n\n\n\n\n\n\n\nMEDS\n\n\nR\n\n\nStatistics\n\n\n\n\nComparison of linear models, summarizing tropical tree growth under drought conditions\n\n\n\n\n\n\nDec 10, 2023\n\n\nBriana Barajas\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "blog-posts/2023-12-15-santa-clara-ndvi/index.html",
    "href": "blog-posts/2023-12-15-santa-clara-ndvi/index.html",
    "title": "NDVI Assessment Around Santa Clara River",
    "section": "",
    "text": "While many organisms in nature experience phenological cycles, plant phenology is one of the most easily recognized. Phenological events for plants include leaf growth, flowering, and leaf death (also known as senescence). The timing of these events is based on climate conditions, so that plants may ensure successful reproduction. As the climate changes, phenological cycles in plants can be disrupted. For this reason, changes in plant phenology are used to estimate how ecosystems are responding to climate change.\nThis analysis utilizes satellite data to calculate the normalized difference vegetation index (NDVI) for various plant communities. Looking at NDVI over time can uncover some of the phenological cycles, but more importantly, long-term trends that might be caused by climate change. The area of interest for this study is the Santa Clara River, which has the following plant communities:\n\nriparian forests: grow along the river, dominated by winter deciduous cottonwood and willow trees\ngrasslands: grow in openspaces, dominated by drought deciduous grasses\nchaparral shrublands: grow in more arid habitats, dominated by evergreen shrubs\n\ncredit: this post is based on a materials developed by Chris Kibler with additional assistance from Ruth Oliver"
  },
  {
    "objectID": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#background",
    "href": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#background",
    "title": "NDVI Assessment Around Santa Clara River",
    "section": "",
    "text": "While many organisms in nature experience phenological cycles, plant phenology is one of the most easily recognized. Phenological events for plants include leaf growth, flowering, and leaf death (also known as senescence). The timing of these events is based on climate conditions, so that plants may ensure successful reproduction. As the climate changes, phenological cycles in plants can be disrupted. For this reason, changes in plant phenology are used to estimate how ecosystems are responding to climate change.\nThis analysis utilizes satellite data to calculate the normalized difference vegetation index (NDVI) for various plant communities. Looking at NDVI over time can uncover some of the phenological cycles, but more importantly, long-term trends that might be caused by climate change. The area of interest for this study is the Santa Clara River, which has the following plant communities:\n\nriparian forests: grow along the river, dominated by winter deciduous cottonwood and willow trees\ngrasslands: grow in openspaces, dominated by drought deciduous grasses\nchaparral shrublands: grow in more arid habitats, dominated by evergreen shrubs\n\ncredit: this post is based on a materials developed by Chris Kibler with additional assistance from Ruth Oliver"
  },
  {
    "objectID": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#about-the-data",
    "href": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#about-the-data",
    "title": "NDVI Assessment Around Santa Clara River",
    "section": "About the Data",
    "text": "About the Data\n\nRiver Data\nA shape file of rivers in Ventura County is publicly available via the Ventura County Watershed Protection District. To provide a base map for this, I have also loaded vector data on counties in the United States.\n\n\nLandsat Data\nThe data that will be used to calculate NDVI is from the Landsat Operational Land Imager (OLI) sensor. There are 8 total landsat .tif files that contain level 3 surface reflectance products where erroneous values were set to NA, the scale factor is set to 100, and bands 2-7 are present. The date of collection is at the end of each file name.\n\n\nStudy Sites\nStudy sites are available as vector data with character strings as the plant type. This data will be used to classify the plant communities of interest."
  },
  {
    "objectID": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#compute-initial-ndvi",
    "href": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#compute-initial-ndvi",
    "title": "NDVI Assessment Around Santa Clara River",
    "section": "Compute Initial NDVI",
    "text": "Compute Initial NDVI\nNDVI was computed for all 8 Landsat images. The date range is between June 2018 and July 2019. Ideally, this time frame will provide an accurate estimate of annual phonological changes in NDVI.\nPreparation:\n\n\nCode\n# create NDVI function\nndvi_fun = function(nir, red){\n  (nir - red) / (nir + red)\n}\n\n# create list of landsat files\nlandsat_files &lt;- list.files(here('blog-posts','2023-12-15-santa-clara-ndvi',\"data\"), pattern = \"*.tif\", full.names = TRUE)\n\n\nNDVI Across Scenes:\nIn order to facilitate NDVI calculation, the function below is designed to read in all raster files, rename their bands, and calculate NDVI. Once all NDVI‚Äôs were calculated, they were stacked and assigned names that corresponded to their date.\n\n\nCode\n#function reads in data, renames bands, and calc NDVI\ncreate_ndvi_layer &lt;- function(i){\n  landsat &lt;- rast(landsat_files[i]) #read in data \n  names(landsat) &lt;- c(\"blue\", \"green\", \"red\", \"NIR\", \"SWIR1\", \"SWIR2\") #rename bands\n  ndvi &lt;- lapp(landsat[[c(4, 3)]], fun = ndvi_fun) #NDVI\n}\n\n# stack raster with NDVI data using function above\nall_ndvi &lt;- c(create_ndvi_layer(1),\n              create_ndvi_layer(2),\n              create_ndvi_layer(3),\n              create_ndvi_layer(4),\n              create_ndvi_layer(5),\n              create_ndvi_layer(6),\n              create_ndvi_layer(7),\n              create_ndvi_layer(8))\n\n# add dates to corresponding layer\nnames(all_ndvi) &lt;- c(\"2018-06-12\",\n                     \"2018-08-15\",\n                     \"2018-10-18\",\n                     \"2018-11-03\",\n                     \"2019-01-22\",\n                     \"2019-02-23\",\n                     \"2019-04-12\",\n                     \"2019-07-01\")"
  },
  {
    "objectID": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#exploratory-maps",
    "href": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#exploratory-maps",
    "title": "NDVI Assessment Around Santa Clara River",
    "section": "Exploratory Maps",
    "text": "Exploratory Maps\n\nTrue Color Image\nAssessing true color imagery before NDVI can be useful for quickly recognizing different types of terrain. Here, I created a simple true color image of the Santa Clara River area using one of a single Landsat from June 2018.\n\n\nCode\n# create a true color image\nplotRGB(single_landsat_rast, 3, 2, 1, stretch=\"hist\",\n        main = \"Santa Clara River True Color Image\")\n\n\n\n\n\n\n\nStudy Site Location Along Santa Clara Watershed\nThe Santa Clara River flows from Santa Clarita to Ventura and remains relatively natural compared to other rivers in California. It is recognized for its ecological importance and natural resource potential, as the river provides water for agriculture and habitat for several endangered species. For these reasons, there have been significant efforts to conserve and restore the riparian habitat surrounding the river1.\nThe following visualization depicts the Santa Clara River, as well as other rivers within the Santa Clara Watershed. The plant communities (study sites) were added as well for geographical context.\n\n\nCode\n## ========== Data Preparation ==========\n# filter VC river data to SC watershed\nsc_watershed &lt;- vc_rivers %&gt;% \n  filter(WATERSHED == \"SANTA CLARA RIVER WATERSHED\") %&gt;% #filter\n  st_transform(crs = 'epsg:32611') %&gt;% #reproject\n  st_crop(study_sites)\n\n# filter state data to counties new watershed\nventura &lt;- states %&gt;% st_crop(study_sites) #crop county to watershed\n\n# create custom color palette\nphenology_pal &lt;- c(\"#EAAC8B\", \"#315C2B\", \"#315C2B\", \"#315C2B\",\"#9EA93F\")\n\n## ========== Plot Data Together ==========\n# create map combining watershed, study sites, and counties\nggplot() +\n  geom_sf(data = ventura, fill = '#E7DED9') +\n  geom_sf(data = sc_watershed, color = 'dodgerblue') +\n  geom_sf(data = study_sites,\n          mapping = aes(fill = study_site)) +\n  scale_fill_manual(values = phenology_pal) +\n  labs(title = \"Study Sites Along Santa Clara Watershed\",\n       fill = \"Plant Communities\",\n       x=NULL,\n       y=NULL) +\n  theme(panel.background = element_rect(fill='lightblue'),\n        plot.margin=grid::unit(c(0,0,0,0), \"mm\"))\n\n\n\n\n\n\n\nStudy Sites and NDVI\nThis map demonstrates study sites within a single NDVI layer. For simplicity, I will call the first layer from the all_ndvi raster stack.\n\n\nCode\ntm_shape(all_ndvi[[1]]) +\n  tm_raster() +\n  tm_shape(study_sites) +\n  tm_polygons()\n\n\n\n\n\nThe normalized vegetation index (NDVI) can be used to estimate plant productivity. Areas with sparse foliage will return lower values, while areas with dense leaf cover will return values closer to 1. The NDVI scale ranges from -1 to 1, but vegetation is commonly a positive value. A negative NDVI is indicative of water, either as clouds, snow, or bodies of water on the Earth‚Äôs surface. For this reason, cloud cover can potentially affect NDVI values calculated from remotely sensed data."
  },
  {
    "objectID": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#ndvi-within-study-sites",
    "href": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#ndvi-within-study-sites",
    "title": "NDVI Assessment Around Santa Clara River",
    "section": "NDVI Within Study Sites",
    "text": "NDVI Within Study Sites\n\nData Cleaning\nBefore the final plot can be produced, the average NDVI within each study site must be isolated. This was done using the extract() function from the terra package, followed by cbind to combine NDVI values with the original study site data.\n\n\nCode\n## ========== Find NDVI within sites ==========\n# use extract to pull NDVI values\nsites_ndvi &lt;- terra::extract(all_ndvi, study_sites, fun = 'mean')\n\n# bind site data w/ site specific NDVI\nsites_ndvi_raw &lt;- cbind(study_sites, sites_ndvi)\n\n## ========== Clean Data frame =========\nsites_clean &lt;- sites_ndvi_raw %&gt;% \n  st_drop_geometry() %&gt;%\n  select(-ID) %&gt;%\n  pivot_longer(!study_site) %&gt;%\n  rename(\"NDVI\" = value) %&gt;%\n  mutate(\"year\" = str_sub(name, 2, 5),\n         \"month\" = str_sub(name, 7, 8),\n         \"day\" = str_sub(name, -2, -1)) %&gt;%\n  unite(\"date\", 4:6, sep = \"-\") %&gt;%\n  mutate(\"date\" = lubridate::as_date(date))\n\n\n\n\nPlot NDVI Over Time\nPlotting NDVI over time can ideally give us insight into the phonological trends mentioned in the introduction. Typically, NDVI values will be lower in the winter when trees lose their leaves, and higher in the spring. Plotting all study sites together makes it easy to note differences in NDVI among different plant communities.\n\n\nCode\nggplot(sites_clean,\n       aes(x = date, y = NDVI,\n           group = study_site, col = study_site)) +\n  scale_color_manual(values = phenology_pal) +\n  geom_line() +\n  theme_minimal() +\n  labs(x = \"\", y = \"Normalized Difference Vegetation Index (NDVI)\", col = \"Plant Communities\",\n       title = \"Seasonal cycles of vegetation productivity\")"
  },
  {
    "objectID": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#conclusion",
    "href": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#conclusion",
    "title": "NDVI Assessment Around Santa Clara River",
    "section": "Conclusion",
    "text": "Conclusion\nHigher NDVI values often correlate with denser vegetation and times of rapid growth. Based on the plot produced, grasslands and chaparral sites appear to have faster growth in the springtime. Most notably, however, it appears that grasslands are ill equipped for winter as the NDVI from the end of 2018 is rather low. To expand this analysis, it would be useful to data beyond just one year. It is possible this year was not an accurate representation, and additional data would uncover this. With enough data, you could also minimize seasonal cycles to uncover trends that are only visible over several years."
  },
  {
    "objectID": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#footnotes",
    "href": "blog-posts/2023-12-15-santa-clara-ndvi/index.html#footnotes",
    "title": "NDVI Assessment Around Santa Clara River",
    "section": "Footnotes",
    "text": "Footnotes\n\n\n‚ÄúSanta Clara River.‚Äù The Nature Conservancy, www.nature.org/en-us/get-involved/how-to-help/places-we-protect/the-nature-conservancy-in-california-santa-clara-river-california-con/#:~:text=The%20Santa%20Clara%20River%20is%20a%20vital%20source%20of%20drinking,bustling%20Los%20Angeles%2DVentura%20region. Accessed 15 Dec.¬†2023.‚Ü©Ô∏é"
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "",
    "text": "The Thomas Fire began late December (2017) in Ventura County and continued to affect both Santa Barbara and Ventura counties into the new year. This analysis uses raster data to produce a map of the fire‚Äôs perimeter. Additionally, a simple visualization was created to demonstrated the severity of the Thomas Fire‚Äôs affect on air quality (AQI) in both counties."
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#background",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#background",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "",
    "text": "The Thomas Fire began late December (2017) in Ventura County and continued to affect both Santa Barbara and Ventura counties into the new year. This analysis uses raster data to produce a map of the fire‚Äôs perimeter. Additionally, a simple visualization was created to demonstrated the severity of the Thomas Fire‚Äôs affect on air quality (AQI) in both counties."
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#about-data",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#about-data",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "About Data",
    "text": "About Data\n\nRaster Data\nThis dataset, from the Landsat Collection 2 Level-2, contains red, green, near-infrared, and shortwave infrared layers. The data was originally collected by the Landsat 8 satellite, and was corrected for surface reflectance and simplified.\nUseful Links:\n\nBand designations for Landsat satellites\nCommon Landsat band combos\nScale factor with Landsat Level-2 science products\nFinal process collection from Microsoft Planetary Computer\n\n\n\nFire Perimeter Data\nCAL Fire provides annual geographic data on fire perimeters. The fire started December 4th, 2017 and was contained by January 12th, 2018. Since the majority of fire growth was in 2017, this analysis will use only the 2017 data.\nUseful Links: Fire perimeter\n\n\nAir Quality Data\nThe Air Quality Data can be pulled from the U.S. Environmental Protection Agency (EPA). This dataset provides air quality data from counties throughout the United States and can be filtered to examine Santa Barbara County during the duration of the Thomas Fire.\nUseful Links: Air quality\n\n\nCounty Perimeter Data\nCalifornia provides shapefiles on all counties within the state.\nUseful Links: County perimeters"
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#libraries-and-functions",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#libraries-and-functions",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "Libraries and Functions",
    "text": "Libraries and Functions\nLoading necessary libraries and functions:\n\n\nCode\nimport os\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.patches as mpatches \n\nimport xarray as xr\nimport rioxarray as rioxr\nimport geopandas as gpd\nimport contextily as cx"
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#loading-data",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#loading-data",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "Loading Data",
    "text": "Loading Data\nThe Landsat raster data and fire perimeter data are stored in a folder and accessed directly. The AQI data can be accessed using the link.\nLoading data for analysis:\n\n\nCode\n# raster data\nlandsat_raw = rioxr.open_rasterio(os.path.join(os.getcwd(),'data','landsat8-2018-01-26-sb-simplified.nc'))\n\n# ca fire perimeter data\nfire_perimeter = gpd.read_file(os.path.join(os.getcwd(), 'data', 'fire_perim',\n                                           'California_Fire_Perimeters_2017.shp'))\n#import 2017 and 2018 aqi data \naqi_18 = pd.read_csv('https://aqs.epa.gov/aqsweb/airdata/daily_aqi_by_county_2018.zip')\naqi_17 = pd.read_csv('https://aqs.epa.gov/aqsweb/airdata/daily_aqi_by_county_2017.zip')"
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#data-cleaning-for-visualization",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#data-cleaning-for-visualization",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "Data Cleaning for Visualization",
    "text": "Data Cleaning for Visualization\n\nRaster Data\nThe raster data contains additional bands that are not needed for this analysis, which will utilize the short-wave infrared (swir22), near infrared (nir08), and red bands. Removing the bands and coordinates which are not needed will improve processing in the following steps.\n\n\nCode\n# remove extra dims and coords\nlandsat = landsat_raw.squeeze().drop('band')\n\n\n\n\nFire Perimeter Data\nAs mentioned in the, ‚ÄúAbout Data‚Äù section, the fire perimeter data is for the entire state of California. The data was filtered to the fire of interest, and the coordinate reference system (CRS) was updated for mapping purposes.\n\n\nCode\n# lowercase col names\nfire_perimeter.columns = fire_perimeter.columns.str.lower()\n\n# update CRS to match landsat data\nfire_perimeter = fire_perimeter.to_crs(landsat.rio.crs)\n\n# filter to fire of interest\nthomas = fire_perimeter[fire_perimeter['fire_name']=='THOMAS']"
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#mapping-affected-counties",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#mapping-affected-counties",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "Mapping Affected Counties",
    "text": "Mapping Affected Counties\nBoth Ventura and Santa Barbara counties were impacted by the 2017 Thomas Fire. The following map shows the extent of both counties\n\n\nCode\nca_counties = gpd.read_file(os.path.join(os.getcwd(), 'data', 'county-lines','CA_Counties_TIGER2016.shp'))\nimpacted_counties = ca_counties[(ca_counties.NAME == 'Ventura') | (ca_counties.NAME == 'Santa Barbara')]\n\n\n\n\nCode\nfig, ax = plt.subplots() #create figure\n\nimpacted_counties.to_crs(epsg=3857).plot(ax = ax, figsize = (5,5), alpha = 0.3,\n                                        column = 'NAME', edgecolor='k',\n                                        legend = True,\n                                         legend_kwds={'loc': 'lower right'})\n\ncx.add_basemap(ax, source=cx.providers.Esri.NatGeoWorldMap)\n\n# update title and axes\nax.set_title(\"Counties Impacted by Thomas Fire\", fontdict={\"fontsize\": \"16\"})\nax.set_axis_off()\nplt.savefig('images/impacted-counties.png')"
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#mapping-the-fire-perimeter",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#mapping-the-fire-perimeter",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "Mapping the Fire Perimeter",
    "text": "Mapping the Fire Perimeter\nThe cleaned and filtered data can be used to produce a false color image depicting the extent of the Thomas Fire‚Äôs perimeter:\n\n\nCode\nfig, ax = plt.subplots()\nax.axis('off')\n\n# map thomas fire perimeter\nthomas.plot(ax=ax, color = 'None', edgecolor = 'red', legend=True)\nthomas_patch = mpatches.Patch(color = 'red', label = 'Fire Perimeter') #legend parameters\n\n# map raster data\nlandsat[['swir22','nir08','red']].to_array().plot.imshow(robust=True) #plot SB county \n\n# update legend and title\nax.set_title('Southern California, Thomas Fire (2017-18)')\n_ = ax.legend(handles=[thomas_patch])\nplt.savefig('images/false-color-image.png')"
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#analyzing-impact-on-aqi",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#analyzing-impact-on-aqi",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "Analyzing Impact on AQI",
    "text": "Analyzing Impact on AQI\nThe Thomas Fire burned 281,893 acres, affecting both Santa Barbara and Ventura Counties. The map above shows the perimeter of the fire, but doesn‚Äôt give much more information on the impact. The following analysis looks at air quality (AQI) in Ventura and Santa Barbara county from 2017 to 2018.\n\nData Cleaning for AQI\nAir quality data is provided for all counties and states within the U.S., therefore filtering is required in addition to data tidying to create subsets of the counties of interest. Additional tidying steps on the date column will be useful for plotting the data.\n\n\nCode\n# combine 2017-18 AQI data\naqi = pd.concat([aqi_17, aqi_18])\n\n# clean col names\naqi.columns = aqi.columns.str.lower().str.replace(' ','_')\n\n# SB and VC county subset\naqi_sb = aqi.loc[aqi['county_name']=='Santa Barbara',\n       ['date','aqi','category','defining_parameter', 'defining_site','number_of_sites_reporting']]\n\naqi_vc = aqi.loc[aqi['county_name']=='Ventura',\n       ['date','aqi','category','defining_parameter', 'defining_site','number_of_sites_reporting']]\n\n# change date col to data time object\naqi_sb.date = pd.to_datetime(aqi_sb.date)\naqi_vc.date = pd.to_datetime(aqi_vc.date)\n\n# set date column as index\naqi_sb = aqi_sb.set_index('date')\naqi_vc = aqi_vc.set_index('date')\n\n# add column w/5-day rolling average\naqi_sb['five_day_average'] = aqi_sb.aqi.rolling('5D').mean()\naqi_vc['five_day_average'] = aqi_vc.aqi.rolling('5D').mean()"
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#plot-aqi-from-2017-2018",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#plot-aqi-from-2017-2018",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "Plot: AQI From 2017-2018",
    "text": "Plot: AQI From 2017-2018\nThe following plots show air quality in Santa Barbara and Ventura counties, which were both impacted by the Thomas Fire. In addition to the daily aqi (blue), there is a 5-day rolling average that demonstrates the mean AQI over 5-days.\n\n\nCode\nfig, [ax1, ax2] = plt.subplots(ncols=1, nrows=2,\n                               sharex = True, sharey=True,\n                              figsize = (11,9))\n\naqi_sb.aqi.plot(ax = ax1, color = '#1177A0', legend = True)  \naqi_sb.five_day_average.plot(ax=ax1, color = '#A01177', \n                            title = 'Santa Barbara Air Quality 2017-18', \n                            legend = True, \n                             xlabel = \"Date\", \n                             ylabel = \"AQI\") \n\naqi_vc.aqi.plot(ax = ax2, color = '#1177A0', legend = False)  \n_ = aqi_vc.five_day_average.plot(ax=ax2, color = '#A01177', \n                            title = 'Ventura Air Quality 2017-18',\n                            legend = False, \n                             xlabel = \"Date\",\n                             ylabel = \"AQI\")\nplt.savefig('images/aqi-plot.png')"
  },
  {
    "objectID": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#references",
    "href": "blog-posts/2023-12-13-thomas-fire-perimeter/index.html#references",
    "title": "Air Quality Assesment of California Thomas Fire",
    "section": "References",
    "text": "References\nCalifornia Open Data Portal (2016), CA Geographic Boundaries [Data File] Available from: https://data.ca.gov/dataset/ca-geographic-boundaries. Access date: December 13, 2023.\nCalifornia State Geoportal. (2023, August 7), California Fire Perimeters (all) [Data file] Available from: https://gis.data.ca.gov/datasets/CALFIRE-Forestry::california-fire-perimeters-all-1/about. Access date: November 28, 2023.\nEarth Resources Observation And Science (EROS) Center. Collection-2 Landsat 8-9 OLI (Operational Land Imager) and TIRS (Thermal Infrared Sensor) Level-2 Science Products. U.S. Geological Survey, 2013, doi:10.5066/P9OGBGM6.\nEnvironmental Protection Agency (EPA). (2023, November 9), Air Data: Air Quality Data Collected at Outdoor Monitors Across the US. Pre-Generated Data Files [URL] Available from: https://aqs.epa.gov/aqsweb/airdata/download_files.html#AQI. Access date: November 28, 2023.\n‚ÄúThomas Fire.‚Äù Wikipedia, Wikimedia Foundation, 9 Nov.¬†2023, en.wikipedia.org/wiki/Thomas_Fire. Accessed 28 Nov.¬†2023."
  },
  {
    "objectID": "blog-posts/2024-03-12-frog-infrographic/index.html",
    "href": "blog-posts/2024-03-12-frog-infrographic/index.html",
    "title": "Creating an infographic using Oregon spotted frog capture data",
    "section": "",
    "text": "The capture-mark-recapture technique (herein CMR) is a common surveying technique used to calculate estimations of populations or survival over time. As with many mathematical analyses, there are some assumptions that much be met to calculate survival using CMR data. The data used for my infographic was used in a publication that commented on the species survival over several years (Rowe et. al). To calculate survival, it is assumed that the likelihood of catching any individual is the same for all individuals in the population. With this in mind, I created several visualizations that answer the question, what factors affect how easy it is to capture a frog?"
  },
  {
    "objectID": "blog-posts/2024-03-12-frog-infrographic/index.html#overarching-question",
    "href": "blog-posts/2024-03-12-frog-infrographic/index.html#overarching-question",
    "title": "Creating an infographic using Oregon spotted frog capture data",
    "section": "",
    "text": "The capture-mark-recapture technique (herein CMR) is a common surveying technique used to calculate estimations of populations or survival over time. As with many mathematical analyses, there are some assumptions that much be met to calculate survival using CMR data. The data used for my infographic was used in a publication that commented on the species survival over several years (Rowe et. al). To calculate survival, it is assumed that the likelihood of catching any individual is the same for all individuals in the population. With this in mind, I created several visualizations that answer the question, what factors affect how easy it is to capture a frog?"
  },
  {
    "objectID": "blog-posts/2024-03-12-frog-infrographic/index.html#about-the-data",
    "href": "blog-posts/2024-03-12-frog-infrographic/index.html#about-the-data",
    "title": "Creating an infographic using Oregon spotted frog capture data",
    "section": "About the Data",
    "text": "About the Data\nFor the final visualizations, I used two different data frames within the same data publication by the United States Geological Survey (USGS). The first data frame contained the data on CMR surveys of the Oregon Spotted frog (Rana pretiosa) from 2009-2021. The raw data was in ‚Äúlong‚Äù format, where every year and visit number were an individual column of 0s and 1s, indicating whether or not an individual was captured. Using pivot_longer , I split year and visit number into individual columns. This allowed me to easily sum the data so that I could count the number of frogs detected based on particular groups (reach, sex, and size).\nThe second data frame contained data on environmental variables around the time the surveys were conducted. I only focused on the NDVI column in this data set, as I hypothesized that vegetation density might impact the ease of catching frogs. The U.S. Fish & Wildlife service also hosts a geographic data set with the species range of several threatened, and endangered species. I used the species range data to create a custom range map for the infographic.\n\nRead in data\n\n\nCode\n## ========================================\n##             Read in Data            ----\n## ========================================\n# set data directory\ndata_dir &lt;- \"/Users/bri_b/Documents/Work/bb-website/bbarajas429.github.io/blog-posts/2024-03-12-frog-infrographic/data\"\n\n# read frog data ----\nfrogs_raw &lt;- read_csv(here(data_dir, \"frog_cmr\", \"cmrData.csv\")) %&gt;% \n  clean_names()\n\n# read water data ----\nenv_raw &lt;- read_csv(here(data_dir, \"frog_cmr\", \"waterCov.csv\"))\n\n# species range data ----\nquery &lt;- \"SELECT * FROM usfws_complete_species_current_range_2 WHERE SCINAME='Rana pretiosa' \"\n\nrange_map &lt;- st_read(here(data_dir, \"usfws_complete_species_current_range\",\n                          \"usfws_complete_species_current_range_2.shp\"),\n                     query = query) %&gt;%\n  st_make_valid() %&gt;%\n  clean_names()\n\n# full state maps ----\nstate_map &lt;- st_read(here(data_dir, \"cb_2018_us_state_500k\", \"cb_2018_us_state_500k.shp\")) %&gt;%\n  st_make_valid() %&gt;%\n  clean_names() %&gt;%\n  filter(name == \"Oregon\" | name == \"Washington\")\n\n# create a coordinate point for data collection area\ndata_location &lt;- data.frame(lat = c(43.224875),\n                            lon = c(-121.587244)) %&gt;%\n  st_as_sf(coords = c(\"lon\", \"lat\"), crs = st_crs(state_map))\n\n## ========================================\n##             Read in Images          ----\n## ========================================\n# frog icons ----\nfrog_female &lt;- here(data_dir, \"frog-female.png\")\nfrog_male &lt;- here(data_dir, \"frog-male.png\")\n\n# jack creek map ----\ncreek_img &lt;- png::readPNG(here(data_dir, \"jack-creek-inset.png\"), native = TRUE)\n\n# sul image ----\nsul_img &lt;- png::readPNG(here(data_dir, \"sul-measurement.png\"), native = TRUE)\n\n# lilypad image ----\nyellow_pad &lt;- here(data_dir, \"yellow-pad.png\")\ngreen_pad &lt;- here(data_dir, \"green-pad.png\")\n\n# lilypad legend ----\nlilypad_legend &lt;- png::readPNG(here(data_dir, \"lilypad-legend.png\"))\n\n\n\n\nData Wrangling\n\n\nCode\n## ========================================\n##        Wrangle environmental data   ----\n## ========================================\nenv &lt;- env_raw %&gt;% \n  \n  # select sites of interest (most surveyed)\n  filter(reach == \"Middle Jack\" | reach == \"Upper Jamison\")\n\n## ========================================\n##          Wrangle frog CMR data      ----\n## ========================================\nfrogs &lt;- frogs_raw %&gt;% \n  \n  # filter to most surveyed reaches\n  filter(reach == \"Middle Jack\" | reach == \"Upper Jamison\") %&gt;% \n  \n  # pivot to split year from detected column\n  pivot_longer(cols = 5:43,\n               names_to = \"year_visit\",\n               values_to = \"frog_detected\") %&gt;% \n  \n  # split year and visit number into two columns %&gt;% \n  separate(year_visit, \n           c(\"year\", \"visit\"),\n           '_') %&gt;% \n  \n  # remove x that precedes the year (x2010, x2011)\n  mutate(year = str_remove(year, 'x')) %&gt;% \n  \n  # rename size to include units\n  rename(sul_mm = sul) %&gt;% \n  \n  # remove years w/no frog surveys at Upper Jamison\n  filter(year %in% c(2009:2019))\n\n\n# clean environment\nrm(env_raw, frogs_raw, query)"
  },
  {
    "objectID": "blog-posts/2024-03-12-frog-infrographic/index.html#creating-data-visualizations",
    "href": "blog-posts/2024-03-12-frog-infrographic/index.html#creating-data-visualizations",
    "title": "Creating an infographic using Oregon spotted frog capture data",
    "section": "Creating Data Visualizations",
    "text": "Creating Data Visualizations\n\nSpecies Range Map\nThe species range map was not one of the key visualizations, and required minimal data wrangling. The USFWS dataset included ranges for all threatened or endangered species, so I used a query to select only the Oregon Spotted Frog range. To better demonstrate the study area, I added an inset map with labeled locations of interest. This map is an image from the original publication and has the site names clearly labeled which would be important for the ‚Äúvegetation‚Äù figure.\n\n\nCode\n# create species range map\nggplot() +\n  \n  # map states & species range\n  geom_sf(data = state_map, col = \"slategray\") +\n  geom_sf(data = range_map, fill = \"yellowgreen\", col = \"black\") +\n  \n  # add box around study area \n  geom_sf(data = data_location, shape = 15, size = 6, col = \"dodgerblue\",\n          alpha = 0.45) +\n  \n  # add text annotation for study area\n  annotate(geom = \"text\", x = -118, y = 45.4, label = \"Study Area \\n Jack Creek, Oregon\", family = \"noto\", size = 4, col = \"black\") +\n  \n  # expand axis limits so inset image does not get cropped\n  coord_sf(xlim = c(-125, -116), ylim = c(41.5, 49.5), expand = FALSE) +\n  \n  # add lines connecting study area to inset map\n  geom_curve(aes(x = -120, xend = -121.50,\n                 y = 44.98, yend = 43.224875),\n             curvature = 0, col = \"black\", linewidth = 0.7) +\n  \n  geom_curve(aes(x = -120, xend = -121.50,\n                 y = 43.02, yend = 43.224875),\n             curvature = 0, col = \"black\", linewidth = 0.7) +\n  \n  # add map of study area\n  annotation_raster(creek_img, xmax = -120, xmin = -116,\n                    ymax = 45, ymin = 43) +\n  \n  # update general theme to remove background\n  theme_void() +\n  \n  # add title\n  labs(title = \"Species Range Map\") +\n  \n  # adjust title theme and size\n  theme(plot.title = element_text(hjust = 0.5, vjust = 0, \n                                  family = \"roboto\", size = 30))\n\n\n\n\n\n\n\nMales vs.¬†Females\nSince I was comparing counts, I decided I would create a unique version of a bar chart. I was originally looking at lollipop charts when I got the idea to connect the point to a curved line, so it appeared as though the frog was jumping. Since the data presented in this plot was so simple, I wanted to remove as many of the plot elements as possible. For example, instead of a legend I directly wrote out the frog counts by each point. I also made the male and female frog different colors, which I kept consistent in the final inforgraphic caption. Additionally, after calculating the sum I changed the sex column to be the same character string so both frogs would both be on the same axis.\n\n\nCode\n## ............. Data Preparation..................\n# create data subset of male vs. female frogs captured\nmf_count &lt;- frogs %&gt;% \n  group_by(sex) %&gt;% \n  summarise(frog_catch = sum(frog_detected))\n\n# add column with male/female frog images\nmf_count$image &lt;- c(frog_female, frog_male)\n\n# change sex to same value so frogs can be on the same line\nmf_count$sex &lt;- \"A\"\n\n## ..................Plot..........................\n\n# create plot of male vs. female frogs caught\nggplot(data = mf_count) +\n  \n  # add images of frogs for male and female\n  geom_image(aes(x = frog_catch, y = sex, image = image), \n             size = 0.2) +\n  \n  # add hop line for males\n  geom_curve(aes(x = 0, xend = 267, y = 1, yend = 1), linetype = 2,\n             curvature = -0.4, col = \"#18BA9A\", linewidth = 1) +\n  \n  # add hop line for females\n  geom_curve(aes(x = 0, xend = 350, y = 1, yend = 1), linetype = 2,\n             curvature = -0.4, col = \"#754edb\", linewidth = 1) +\n  \n  # expand x-axis to add space for text\n  coord_cartesian(xlim = c(0, 360)) +\n  \n  # pre-set theme\n  theme_minimal() +\n  \n  # customize labels and title\n  labs(title = \"Sex of Captured Frogs\") +\n  \n  # add labels for data points\n  annotate(geom = \"text\", x = 342.5, y = 0.87, label = \"350 female frogs\", \n           family = \"noto\", size = 4, col = \"#754edb\") +\n  annotate(geom = \"text\", x = 259, y = 0.87, label = \"267 male frogs\",\n           family = \"noto\", size = 4, col = \"#18BA9A\") +\n  \n  # remove gridlines\n  theme(panel.grid.major.x = element_blank(),\n        panel.grid.minor.x = element_blank(),\n        \n        # remove labels that aren't needed\n        axis.text.x = element_blank(),\n        axis.title.y = element_blank(),\n        \n        # customize fonts\n        plot.title = element_text(family = \"roboto\", size = 30,\n                                  hjust = 0.5, vjust = -9.5),\n        axis.text.y = element_blank(),\n        axis.title.x = element_blank())\n\n\n\n\n\n\n\nSize Distribution\nSince frog size is a continuous variable, I wanted to focus on which sizes were most common instead of calculating totals. Ideally, the distribution of frogs caught would be normally distributed, so I used arrows and notes to highlight where this was not the case. I chose the green color to continue the frog theme, and kept all my annotations black so they popped against the white background. I decided to keep the gridlines so the two peaks could be easily compared. Different species have different standards for being measured, so I wanted to include an image that shows how the frogs were measured. Frogs are measured from snout to urostyle. Instead of defining urostyle, I summarized this measurement as ‚Äúlength‚Äù for simplicity.\n\n\nCode\n## ............. Data Preparation..................\n# subset to only include frogs that were captured\nfrogs_subset &lt;- frogs %&gt;% \n  filter(frog_detected == 1)\n\n## ..................Plot..........................\n# plot density of frog size\nggplot(frogs_subset, aes(x = sul_mm)) +\n  geom_density(fill = \"#4EA72E\", col =\"seagreen\", alpha = 0.8) +\n  \n  # change standard theme\n  theme_minimal() +\n  \n  # update axis titles\n  labs(y = \"Density\", \n       x = \"Length (mm)\",\n       title = \"Distribution of Frog Length\") +\n  \n  # update text font and size\n  theme(axis.title = element_text(family = \"noto\", size = 16),\n        axis.text = element_text(family = \"noto\", size = 14),\n        plot.title = element_text(family = \"roboto\",\n                                  hjust = 0.5, size = 30, vjust = 1),\n        \n        # increase plot margin\n        plot.margin = margin(1,0,0,0, \"cm\")) +\n  \n  # update plot to start at y-axis\n  scale_y_continuous(expand=c(0, 0)) +\n  \n  # add arrow pointing to most common sizes\n  geom_curve(aes(x = 47.6, xend = 53,\n                 y = 0.047, yend = 0.045),\n             curvature = 0.2, arrow = grid::arrow()) +\n  \n  # add note on common frog sizes\n  annotate(geom = \"text\", family = \"noto\", size = 3,\n           label = \"Most captured frogs\\n were between 53 - 55 mm \\n in length\",\n           x = 46, y = 0.051) +\n  \n  # add image for measuring frog lengths\n  annotation_raster(sul_img, xmax = 82, xmin = 72,\n                    ymax = 0.052, ymin = 0.033)\n\n\n\n\n\n\n\nVegetation\nFor vegetation, I wanted to highlight several parts of the data including year, average summer normalized difference vegetation index (NDVI), and frog count. To avoid overly complex figures, I decided to focus only on NDVI over time and compare frog counts directly within the graphic. I originally created a line graph that demonstrated NDVI over time for both sites. I decided against this, because I was more interested in displaying the difference not changes. Instead of the line graph, I opted for a dumbell plot to better demonstrate theses differences. I wanted the data points to look like lilypads in a pond. Since Middle Jack has more dense vegetation (higher NDVI), I made the leaf more green than the one for Upper Jamison. I also know that NDVI is not an intuitive variable, so I added a line at 0 and text highlighting that values above zero indicate more dense vegetation.\n\n\nCode\n## ............. Data Preparation..................\n# prepare NDVI data for dumbell plot\nenv_db_data &lt;- env %&gt;% \n  filter(year &lt;= 2019) %&gt;% \n  select(c(\"year\", \"mdNDVI\", \"reach\")) %&gt;% \n  pivot_wider(names_from = reach, values_from = mdNDVI) %&gt;% \n  clean_names() %&gt;% \n  mutate(year = as.factor(year),\n         leaf = green_pad,\n         dry_leaf = yellow_pad)\n\n## ..................Plot..........................\n# create dumbell plot of annual NDVI\nggplot(env_db_data) +\n  \n  # add line for 0 axis\n  geom_hline(yintercept = 0, linetype = 3) +\n  \n  # add lines to connect NDVI of different sites\n  geom_segment(aes(y = middle_jack, yend = upper_jamison,\n                   x = year, xend = year), \n               \n               linewidth = 0.7, col = \"slategray\") +\n  \n  # add points as images\n  geom_image(aes(x = year, y = middle_jack,\n                 image = leaf), size = 0.08) +\n  geom_image(aes(x = year, y = upper_jamison,\n                 image = dry_leaf), size = 0.08) +\n  \n  # change to standard theme\n  theme_minimal() +\n  \n  # update axis names and titles\n  labs(y = \"NDVI\",\n       x = \"Year\",\n       title = \"Average Summer NDVI\") +\n  \n  # update theme\n  # update background and grid color\n  theme(panel.background = element_rect(fill = \"aliceblue\",\n                                        color = \"lightblue3\",\n                                        linewidth = 1),\n        panel.grid.major = element_line(color = \"azure2\"),\n        panel.grid.minor = element_line(color = \"azure2\"),\n        \n        # update fonts and text size\n        plot.title = element_text(family = \"roboto\", size = 30, \n                                  hjust = 0.5),\n        axis.title = element_text(family = \"noto\", size = 16),\n        axis.text = element_text(family = \"noto\", size = 14)) +\n  \n  # add annotation to provide information for NDVI\n  annotate(geom = \"text\", size = 4, family = \"noto\",\n           label = \"Dense vegetation \\n Sparse vegetation\",\n           x = 7, y = 0, col = \"blue\") +\n  \n  # add legend \n  annotation_raster(lilypad_legend, xmin = 8.7, xmax = 11,\n                    ymin = 2, ymax = 1.1) +\n  \n  # increase x-axis length\n  coord_cartesian(xlim = c(0,11)) +\n  \n  # increase spacing between x-axis ticks\n  scale_x_discrete(expand = c(0, -11))"
  },
  {
    "objectID": "blog-posts/2024-03-12-frog-infrographic/index.html#infographic",
    "href": "blog-posts/2024-03-12-frog-infrographic/index.html#infographic",
    "title": "Creating an infographic using Oregon spotted frog capture data",
    "section": "Infographic",
    "text": "Infographic\nAfter creating my plots in R, I switched over to Canva to create the final infographic. Unfortunately, I realized that I had not considered some of the requirements for exporting images using ggsave. Instead of updating the code, I decided to adjust some of the final titles and images in Canva. Since my overarching question is not clear using visuals alone, I started my infographic with a short background section."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Briana Barajas",
    "section": "",
    "text": "Welcome üêõ\n\nMy name is Briana Barajas, and I am a currently a graduate student earning my Master‚Äôs of Environmental Data Science. I am excited to tackle data-driven questions about conservation, and the changing landscape. Outside of coding, I spending my time bird watching, running, and reading."
  },
  {
    "objectID": "blog-posts/2023-12-10-luquillo-drought/index.html",
    "href": "blog-posts/2023-12-10-luquillo-drought/index.html",
    "title": "Drought Tolerance in Tropical Tree Species",
    "section": "",
    "text": "Climate change, in conjunction with other environmental stressors, continue to threaten forests around the world. Mass tree deaths, fires, and deforestation can create a negative feedback loop, turning these well-recognized carbon sinks into a source. Forests are also recognized for their role in preventing erosion, filtering air pollution, and providing habitat and recreation for people and wildlife alike.\nDroughts have been proven to adversely affect forest health. Minimal and inconsistent water supply affects phenology and increases the chance of insect outbreaks or wildfires1. While the severity of these threats is not novel to me, I recognized that most of my knowledge on the topic at hand was based on studies conducted in temperate forests. I was curious to learn more about how forests impacted tropical species, which I presume would be far less adapted to severe weather fluctuations."
  },
  {
    "objectID": "blog-posts/2023-12-10-luquillo-drought/index.html#motivation",
    "href": "blog-posts/2023-12-10-luquillo-drought/index.html#motivation",
    "title": "Drought Tolerance in Tropical Tree Species",
    "section": "",
    "text": "Climate change, in conjunction with other environmental stressors, continue to threaten forests around the world. Mass tree deaths, fires, and deforestation can create a negative feedback loop, turning these well-recognized carbon sinks into a source. Forests are also recognized for their role in preventing erosion, filtering air pollution, and providing habitat and recreation for people and wildlife alike.\nDroughts have been proven to adversely affect forest health. Minimal and inconsistent water supply affects phenology and increases the chance of insect outbreaks or wildfires1. While the severity of these threats is not novel to me, I recognized that most of my knowledge on the topic at hand was based on studies conducted in temperate forests. I was curious to learn more about how forests impacted tropical species, which I presume would be far less adapted to severe weather fluctuations."
  },
  {
    "objectID": "blog-posts/2023-12-10-luquillo-drought/index.html#goal",
    "href": "blog-posts/2023-12-10-luquillo-drought/index.html#goal",
    "title": "Drought Tolerance in Tropical Tree Species",
    "section": "Goal",
    "text": "Goal\nConduct various linear regressions to mathematically summarize tropical forest growth under drought conditions, and examine if tree species belonging to families with widespread distributions exhibit lower drought vulnerability.\n\n\n\nDistribution data from Global Biodiversity Information Facility (GBIF)\n\n\nSince species distributions for tree species in this study are not readily available, I will be comparing species from lineages with wide versus narrow distributions."
  },
  {
    "objectID": "blog-posts/2023-12-10-luquillo-drought/index.html#data",
    "href": "blog-posts/2023-12-10-luquillo-drought/index.html#data",
    "title": "Drought Tolerance in Tropical Tree Species",
    "section": "Data",
    "text": "Data\n\nAbout the Data\nData on tree diameter changes were available through the DataONE interface. This dataset includes measures of tree diameter at breast height (dbh) for several tropical tree species in the Luquillo National Research Forest in Puerto Rico. I chose this data since the Luquillo Forest is part of the Long-Term Ecological Research Network, and meteorological data in this area was well recorded. Additionally, these diameter measurements were taken during a notable drought, lasting from 2013-2016.¬†\nTo avoid model overfitting, I only wanted to include climate variables that both represent drought conditions and have a potentially larger impact on tree growth. I used mean average temperature and total rainfall to relate tree growth and drought. I also decided to include photosynthetic photon flux density (ppfd), since it directly relates to plants. PPFD is a measure of the number of photons between the 400 and 700nm wavelengths that are hitting surfaces per unit time. These wavelengths are optimal for plant molecules to absorb2.\n\n\nTree Species\nTo improve predictive capabilities, I selected the four most sampled species that fell within one of two categories for familial distribution. Species and family information was pulled from the metadata, but I will summarize it here:\n\n\n\n\n\n\n\n\n\nAbbreviation\nSpecies\nFamily\nFamily Distribution\n\n\n\n\nDACEXC\nDacryodes excelsa\nBurseraceae\nnarrow\n\n\nMANBID\nManilkara bidentata\nSapotaceae\nnarrow\n\n\nCASARB\nCasearia arborea\nSalicaceae\nwide\n\n\nINGLAU\nInga laurina\nFabaceae\nwide\n\n\n\n\n\nData Cleaning\nAlthough data collection for tree diameters began in 2011, measurements were not consistently taken until June 2014. In order to create time series models without significant data gaps, I restricted the data from June 2014 to July 2016, when diameter data was collected monthly.\nClimate data that was collected daily had far more missing values than data collected hourly, so I used hourly climate data to calculate daily and monthly averages.\n\n\nCode\n## ======== Convert Hourly Data to Lower Res =====\n# convert hourly climate to daily averages\ndaily_conditions &lt;- hourly_conditions %&gt;% \n  group_by(date = date(datetime)) %&gt;% \n  summarise(tot_rain_mm = sum(rain_mm, na.rm = TRUE),\n            avg_temp_c = mean(temp_c, na.rm = TRUE),\n            avg_ppfd_mmol_m2 = mean(ppfd_mmol_m2_hour, na.rm = TRUE)) %&gt;% \n   mutate(year_mo = yearmonth(date))\n\n# create monthly conditions\nmonthly_conditions &lt;- hourly_conditions %&gt;% \n  group_by(year_mo) %&gt;% \n  summarise(tot_rain_mm = sum(rain_mm, na.rm = TRUE),\n            avg_temp_c = mean(temp_c, na.rm = TRUE),\n            avg_ppfd_mmol_m2 = mean(ppfd_mmol_m2_hour, na.rm = TRUE))\n\n# replace zeros w/NA, no data collected October 2014\nmonthly_conditions['tot_rain_mm'][monthly_conditions['tot_rain_mm'] == 0] &lt;- NA\n\n# replace NAs with the mean of previous and next month\nmonthly_conditions$tot_rain_mm &lt;- na.approx(monthly_conditions$tot_rain_mm)\n\n# remove raw data variables\nrm(clim_1999_2014, clim_2015_2023, dbh_raw, hourly_conditions)\n\n\n\n\nCode\n# create fully joined df\nclim_dbh_full &lt;- left_join(dbh, daily_conditions, by = c('date','year_mo'))\n\n\n\n\nExploration - Climate Trends\nThe following plots show time series decomposition from June 2014 to July 2016 for average monthly temperature and total monthly rainfall. Although the seasonality component contributes more to the overall shape of the line, the decomposed trends still demonstrate signs of drought (increasing temperature and decreasing rainfall).\n\nRainfall DecompositionTemperature Decomposition\n\n\n\n\nCode\n# decompose monthly rain variable\nrain_dcmp &lt;- monthly_conditions %&gt;% \n  as_tsibble(index = year_mo) %&gt;%\n  model(STL(tot_rain_mm))\n\n# plot \ncomponents(rain_dcmp) %&gt;% autoplot()\n\n\n\n\n\n\n\n\n\nCode\n# decompose monthly average temperature\ntemp_dcmp &lt;- monthly_conditions %&gt;% \n  as_tsibble(index = year_mo) %&gt;% \n  model(STL(avg_temp_c))\n\n# plot components\ncomponents(temp_dcmp) %&gt;% autoplot()\n\n\n\n\n\n\n\n\n\n\nExploration - Diameter Trends\nDiameter trends for all species selected appear linear, so testing linear regression fit is within reason.\n\n\nCode\nggplot(data = dbh, aes(x=date, y= mean_daily_dbh, col = distribution)) +\n  geom_point() +\n  scale_color_manual(values = c('#B40052', '#37947D'))+\n  labs(x = \"Date\",\n       y = \"Diameter at Breast Height (mm)\",\n       title = \"Mean Diameter of Species\") +\n  guides(color = guide_legend(title = \"Distribution\")) +\n  theme_classic() +\n  theme(plot.title = element_text(hjust = 0.5)) +\n  facet_wrap(~species)"
  },
  {
    "objectID": "blog-posts/2023-12-10-luquillo-drought/index.html#analysis---static-time-series",
    "href": "blog-posts/2023-12-10-luquillo-drought/index.html#analysis---static-time-series",
    "title": "Drought Tolerance in Tropical Tree Species",
    "section": "Analysis - Static Time Series",
    "text": "Analysis - Static Time Series\n\nSimple linear regression\nA simple linear regression time series looking at tree diameter (y) over time (x) for four species. This can be written out mathematically as:\\[ \\hat{y} = \\beta_0 + \\beta_1 x_1  \\]\nWhere \\(\\beta_1\\) is the average change in dbh given a one unit change in time (\\(x_1\\)), and \\(\\beta_0\\) is the estimated diameter when time (\\(x_1\\)) is zero.\n\n\nCode\n# create subsets for each individual species\ndacexc &lt;- clim_dbh_full %&gt;% filter(species == 'DACEXC') %&gt;% \n  as_tsibble(index = date)\nmanbid &lt;- clim_dbh_full %&gt;% filter(species == 'MANBID') %&gt;% \n  as_tsibble(index = date)\ninglau &lt;- clim_dbh_full %&gt;% filter(species == 'INGLAU') %&gt;% \n  as_tsibble(index = date)\ncasarb &lt;- clim_dbh_full %&gt;% filter(species == 'CASARB') %&gt;% \n  as_tsibble(index = date)\n\n# run linear regressions\ndacexc_model &lt;- lm(mean_daily_dbh ~ date, data = dacexc)\nmanbid_model &lt;- lm(mean_daily_dbh ~ date, data = manbid)\ninglau_model &lt;- lm(mean_daily_dbh ~ date, data = inglau)\ncasarb_model &lt;- lm(mean_daily_dbh ~ date, data = casarb)\n\n# view results (wide distribution)\ntab_model(inglau_model, casarb_model,\n          title = 'Wide Distribution',\n          dv.labels = c('I. laurina', 'C. arborea'),\n          digits = 4)\n\n\n\nWide Distribution\n\n\n¬†\nI. laurina\nC. arborea\n\n\nPredictors\nEstimates\nCI\np\nEstimates\nCI\np\n\n\n(Intercept)\n-32.2780\n-256.5872¬†‚Äì¬†192.0313\n0.773\n-55.4128\n-95.8997¬†‚Äì¬†-14.9260\n0.008\n\n\ndate\n0.0129\n-0.0006¬†‚Äì¬†0.0265\n0.061\n0.0124\n0.0100¬†‚Äì¬†0.0149\n&lt;0.001\n\n\nObservations\n45\n45\n\n\nR2 / R2 adjusted\n0.079 / 0.058\n0.711 / 0.704\n\n\n\n\n\n\n\nCode\n# view results (narrow distribution)\ntab_model(dacexc_model, manbid_model,\n          title = \"Narrow Distribution\",\n          dv.labels = c('D. excelsa', 'M. bidentata'),\n          digits = 4)\n\n\n\nNarrow Distribution\n\n\n¬†\nD. excelsa\nM. bidentata\n\n\nPredictors\nEstimates\nCI\np\nEstimates\nCI\np\n\n\n(Intercept)\n222.4853\n173.6505¬†‚Äì¬†271.3201\n&lt;0.001\n137.5030\n121.1075¬†‚Äì¬†153.8985\n&lt;0.001\n\n\ndate\n0.0035\n0.0006¬†‚Äì¬†0.0065\n0.020\n0.0013\n0.0004¬†‚Äì¬†0.0023\n0.009\n\n\nObservations\n45\n45\n\n\nR2 / R2 adjusted\n0.120 / 0.099\n0.148 / 0.128\n\n\n\n\n\n\n\n\n\nMultiple Linear Regression\nThis regression compares diameter over time, adding all climate variables as predictors to see if the models predictive capability improves. This can be written out mathematically as:\\[ \\hat{y} = \\beta_0 + \\beta_1 x_1 + \\beta_2 x_2 + \\beta_3 x_3 + \\beta_4 x_4\\]\nWhere \\(x_2\\) through \\(x_4\\) are the added climate variables.\n\n\nCode\n# run models w/climate variables\ndacexc_model2 &lt;- lm(mean_daily_dbh ~ date + tot_rain_mm + \n                      avg_temp_c + avg_ppfd_mmol_m2, data = dacexc)\nmanbid_model2 &lt;- lm(mean_daily_dbh ~ date + tot_rain_mm + \n                      avg_temp_c + avg_ppfd_mmol_m2, data = manbid)\n\ninglau_model2 &lt;- lm(mean_daily_dbh ~ date + tot_rain_mm + \n                      avg_temp_c + avg_ppfd_mmol_m2, data = inglau)\ncasarb_model2 &lt;- lm(mean_daily_dbh ~ date + tot_rain_mm + \n                      avg_temp_c + avg_ppfd_mmol_m2, data = casarb)\n\n# view results (wide distribution)\ntab_model(inglau_model2, casarb_model2,\n          title = 'Wide Distribution',\n          dv.labels = c('I. laurina', 'C. arborea'),\n          digits = 4)\n\n\n\nWide Distribution\n\n\n¬†\nI. laurina\nC. arborea\n\n\nPredictors\nEstimates\nCI\np\nEstimates\nCI\np\n\n\n(Intercept)\n54.2732\n-240.2006¬†‚Äì¬†348.7471\n0.711\n-67.5163\n-118.5789¬†‚Äì¬†-16.4537\n0.011\n\n\ndate\n0.0076\n-0.0094¬†‚Äì¬†0.0246\n0.369\n0.0125\n0.0096¬†‚Äì¬†0.0154\n&lt;0.001\n\n\ntot rain mm\n0.0225\n-0.0800¬†‚Äì¬†0.1251\n0.659\n-0.0014\n-0.0192¬†‚Äì¬†0.0164\n0.875\n\n\navg temp c\n-0.2175\n-2.8959¬†‚Äì¬†2.4609\n0.870\n0.4836\n0.0191¬†‚Äì¬†0.9480\n0.042\n\n\navg ppfd mmol m2\n0.0069\n-0.0023¬†‚Äì¬†0.0161\n0.139\n-0.0002\n-0.0018¬†‚Äì¬†0.0014\n0.826\n\n\nObservations\n41\n41\n\n\nR2 / R2 adjusted\n0.133 / 0.037\n0.731 / 0.701\n\n\n\n\n\n\n\nCode\n# view results (narrow distribution)\ntab_model(dacexc_model2, manbid_model2,\n          title = \"Narrow Distribution\",\n          dv.labels = c('D. excelsa', 'M. bidentata'),\n          digits = 4)\n\n\n\nNarrow Distribution\n\n\n¬†\nD. excelsa\nM. bidentata\n\n\nPredictors\nEstimates\nCI\np\nEstimates\nCI\np\n\n\n(Intercept)\n218.2800\n153.7029¬†‚Äì¬†282.8570\n&lt;0.001\n155.1021\n136.6992¬†‚Äì¬†173.5051\n&lt;0.001\n\n\ndate\n0.0038\n0.0001¬†‚Äì¬†0.0075\n0.045\n0.0004\n-0.0007¬†‚Äì¬†0.0014\n0.486\n\n\ntot rain mm\n-0.0114\n-0.0339¬†‚Äì¬†0.0111\n0.310\n0.0020\n-0.0045¬†‚Äì¬†0.0084\n0.539\n\n\navg temp c\n0.0432\n-0.5442¬†‚Äì¬†0.6305\n0.882\n-0.1042\n-0.2716¬†‚Äì¬†0.0632\n0.215\n\n\navg ppfd mmol m2\n-0.0011\n-0.0031¬†‚Äì¬†0.0009\n0.289\n0.0011\n0.0005¬†‚Äì¬†0.0016\n0.001\n\n\nObservations\n41\n41\n\n\nR2 / R2 adjusted\n0.140 / 0.045\n0.374 / 0.304"
  },
  {
    "objectID": "blog-posts/2023-12-10-luquillo-drought/index.html#analysis---dynamic-time-series",
    "href": "blog-posts/2023-12-10-luquillo-drought/index.html#analysis---dynamic-time-series",
    "title": "Drought Tolerance in Tropical Tree Species",
    "section": "Analysis - Dynamic Time Series",
    "text": "Analysis - Dynamic Time Series\nClimate impacts on tree growth are likely not immediate, in order to produce a more accurate model it would be best to add a lag to tree growth. Ideally, this regression would test if current diameter at breast height is dependent on past diameter and past climate variables.\n\n\nCode\n# conduct dynamic regression for a single species\ndacexc_model3 &lt;- dynlm(mean_daily_dbh ~ tot_rain_mm + lag(tot_rain_mm, 1) + avg_temp_c + lag(avg_temp_c, 1) + avg_ppfd_mmol_m2 + lag(avg_ppfd_mmol_m2, 1), data = dacexc)\nmanbid_model3 &lt;- dynlm(mean_daily_dbh ~ lag(tot_rain_mm, 1) + lag(avg_temp_c, 1) +\n                         lag(avg_ppfd_mmol_m2, 1), data = manbid)\ninglau_model3 &lt;- dynlm(mean_daily_dbh ~ lag(tot_rain_mm, 1) + lag(avg_temp_c, 1) +\n                         lag(avg_ppfd_mmol_m2, 1), data = inglau)\ncasarb_model3 &lt;- dynlm(mean_daily_dbh ~ lag(tot_rain_mm, 1) + lag(avg_temp_c, 1) +\n                         lag(avg_ppfd_mmol_m2, 1), data = casarb)\n\n\nI did not run these models, as I realized they were producing very high adjusted r-squared values, between 0.96-1. Oftentimes inflated adjusted r-sqaured values are caused by autocorrelation, which violates one of the assumptions that must be met to run a dynamic linear model. The autocorrelation between previous and current diameter breast height was very high, and can be seen by creating an ACF plot:\n\n\nCode\nacf(casarb$mean_daily_dbh, lag.max = 12, na.action = na.pass,  main = 'Autocorrelation for CASARB Diameter')"
  },
  {
    "objectID": "blog-posts/2023-12-10-luquillo-drought/index.html#results",
    "href": "blog-posts/2023-12-10-luquillo-drought/index.html#results",
    "title": "Drought Tolerance in Tropical Tree Species",
    "section": "Results",
    "text": "Results\nAfter running several regressions, I found that increasing complexity rarely improved the model. In fact, the simple static time series for C. arborea (CASARB) was one of the most accurate, with a model that explained 70% of variation in diameter growth (y). CASARB has the largest increase in mean diameter height between the first and last measurement, and I believe this is what produced such a well-fitting model. Given more time, I predict that time alone would be a much better indicator of diameter growth than what is demonstrated here. All species except M. bidentata (MANBID) experienced decreases in adjusted r-squared values when climate variables were added. This suggests climate variables were likely excessive and caused overfitting, but the one exception is interesting. By adding climate variables, the new MANBID model explained 30% of variation in diameter, as opposed to 12% in the initial model. While this percentage is still rather low, it suggests potential discrepancies between which tree species are more rapidly impacted by climate."
  },
  {
    "objectID": "blog-posts/2023-12-10-luquillo-drought/index.html#limitations",
    "href": "blog-posts/2023-12-10-luquillo-drought/index.html#limitations",
    "title": "Drought Tolerance in Tropical Tree Species",
    "section": "Limitations",
    "text": "Limitations\nGiven more time, I would have analyzed the change in diameter at breast height between measurements instead of dbh itself. This could potentially reduce autocorrelation, so a dynamic time series could be run instead. Alternatively, an auto regressive moving average (or ARIMA) model would allow me to compare these changes regardless of the high autocorrelation. As mentioned, I suspect that data collected over a longer period of time would demonstrate a stronger linear relationship between tree diameter and time. To expand this analysis, growth rates during periods of drought could be compared to rates during favorable climate conditions."
  },
  {
    "objectID": "blog-posts/2023-12-10-luquillo-drought/index.html#conclusion",
    "href": "blog-posts/2023-12-10-luquillo-drought/index.html#conclusion",
    "title": "Drought Tolerance in Tropical Tree Species",
    "section": "Conclusion",
    "text": "Conclusion\nMuch more work needs to be done to properly assess the impact that climate change has on tropical rain forests, and how these impacts may different from temperature forests. Data on trees physiological responses can be much harder to collect, leaving gaps in historic records. Similarly, distribution data can be hard to difficult consolidate. Still, improvements in technology, climate science, and environmental empathy continue to lead us in the right direction."
  },
  {
    "objectID": "blog-posts/2023-12-10-luquillo-drought/index.html#footnotes",
    "href": "blog-posts/2023-12-10-luquillo-drought/index.html#footnotes",
    "title": "Drought Tolerance in Tropical Tree Species",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nEffects of Drought on Forests and Rangelands | Climate Change Resource Center. https://www.fs.usda.gov/ccrc/topics/effects-drought-forests-and-rangelands. Accessed 10 Dec.¬†2023.‚Ü©Ô∏é\nRabinowitz, Harold, and Suzanne Vogel, editors. ‚ÄúChapter 11 - Style and Usage in Earth Science and Environmental Science.‚Äù The Manual of Scientific Style, Academic Press, 2009, pp.¬†427‚Äì68. ScienceDirect, https://doi.org/10.1016/B978-012373980-3.50015-0.‚Ü©Ô∏é"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About Me",
    "section": "",
    "text": "I graduated from the University of California, Santa Barbara in 2022 with a B.S. in Zoology. During that time, I assisted in a meta-analysis, extracting global data on ungulate diets to better understand how plant biodiversity is affected by select functional traits of large herbivores. After graduating, I held various positions within the public sector, working for the National Parks Service and later, the California Department of Food and Agriculture.\n\nI am currently pursuing a Master of Environmental Data Science at the UC Santa Barbara, Bren School of Environmental Science & Management. Moving forward, I hope to use spatial data to assess landscape changes, and the impact of ecosystem stressors including climate change, disease, and invasive species."
  },
  {
    "objectID": "about.html#professional-background",
    "href": "about.html#professional-background",
    "title": "About Me",
    "section": "",
    "text": "I graduated from the University of California, Santa Barbara in 2022 with a B.S. in Zoology. During that time, I assisted in a meta-analysis, extracting global data on ungulate diets to better understand how plant biodiversity is affected by select functional traits of large herbivores. After graduating, I held various positions within the public sector, working for the National Parks Service and later, the California Department of Food and Agriculture.\n\nI am currently pursuing a Master of Environmental Data Science at the UC Santa Barbara, Bren School of Environmental Science & Management. Moving forward, I hope to use spatial data to assess landscape changes, and the impact of ecosystem stressors including climate change, disease, and invasive species."
  },
  {
    "objectID": "about.html#education",
    "href": "about.html#education",
    "title": "About Me",
    "section": "Education",
    "text": "Education\nMaster of Environmental Data Science - University of California, Santa Barbara (Expected June 2024)\nB.S. Zoology - University of California, Santa Barbara (2022)"
  },
  {
    "objectID": "about.html#bird-watching",
    "href": "about.html#bird-watching",
    "title": "About Me",
    "section": "Bird Watching",
    "text": "Bird Watching\nOne of my favorite undergraduate classes was my vertebrate lab. I had the opportunity to visit sites across Santa Barbara to go bird watching, and learn about wildlife surveying techniques. I have continued to bird watch ever since, and keep track of my sightings using the Merlin and eBird apps, which are maintained by the Cornell Lab of Ornithology.\nI thought it would be fun to visualize my personal bird sightings using a leaflet map:\n\n\nCode\n# add CRS to lat/long points\nbirds &lt;- birds %&gt;%   st_as_sf(coords = c('longitude', 'latitude'), crs = 'EPSG:4236')\n\n# create map\nbirds %&gt;% \n  leaflet() %&gt;% \n  addProviderTiles(providers$Jawg.Streets,\n                   options = providerTileOptions(accessToken = token)) %&gt;% \n  addMarkers(label = birds$common_name,\n             popup = paste0(birds$common_name, ' (',\n                            birds$scientific_name, ')'),\n             clusterOptions = markerClusterOptions(),\n             icon = makeIcon(iconUrl = iconpath,\n                             iconWidth = 32, iconHeight = 32))"
  }
]